@import "compass";
@import "wpsstm-shared";

.wpsstm-tracklist-wrapper{
    .tracklist-nav{
        padding:.5em;
        .tablenav-pages{
            line-height:3em;
        }
        .wpsstm-tracklist-time{
            margin-left: .5em;
        }
        .wpsstm-tracklist-actions{
            font-size:0.8em;
            a{
                text-decoration: none;
            }
        }
    }
}

    //more - less
    .toggle-children-link{
        @extend .wpsstm-icon-link;
        display: block;
        width: 100%;
        text-decoration: none;
        border-bottom: none;
        text-align: center;
        font-weight: bold;
        font-size: 1.5em;
        small{
            font-size: .5em;
            line-height: 1em;
            vertical-align: middle;
        }
    }

.wpsstm-tracklist{
    
    position:relative;
    font-family: sans-serif;
    font-size:0.8em;
    

    
    table{

        margin-bottom:1.5em;
        width: 100%;
        display: table;
        border-collapse: collapse;
        border:none;
        margin:0;

        .column-trackitem_image{
            display:none;
        }

        .column-trackitem_order{
            width:2em;
            text-align:center;
        }

        .column-trackitem_play_bt{
            width:2em;
            text-align:center;
        }

        .column-trackitem_image{
            width:2em;
            img{
                max-width:100%;
            }
        }
        .column-trackitem_sources{
            display:none;
            ul{
                list-style-type: none;
            }
        }

        th,td{
            border:none;
        }

        th{
            font-weight: 400;
        }

        thead{
            /*
            display: table-header-group;
            vertical-align: middle;
            border-color: inherit;
            th{
                border-bottom: 1px solid #e1e1e1;
                text-align:center;
            }
            */
            display:none;
        }
        tfoot{
            th{
                border-top: 1px solid #e1e1e1;
            }
        }

       tbody tr{

            @include transition-property(background);
            @include transition-duration(.4s);

            &:nth-child(odd){
                background: rgba(0,0,0,0.0125);
            }
            &:hover{
                background: rgba(0,0,0,0.025);
                td.column-image img{
                    @include opacity(0.8);
                }
            }

            &.no-items{
                .wpsstm-bottom-refresh-notice{
                    display:inline;
                }
            }
            &:not(.no-items):not(:last-child){
                border-bottom: 1px solid #eee;
            }

            tr:not(.no-items){

                &:not(.active){
                    @include opacity(.25);
                    &[data-wpsstm-sources-count="0"]:not(:hover){
                        @include opacity(.1);
                    }
                    &.has-played{
                        @include opacity(.5);
                    }

                }

                &.playing .wpsstm-play-track, &.active .wpsstm-play-track{
                    .wpsstm-player-icon{
                        display:none;
                    }
                    .wpsstm-player-icon-pause{
                        display:inline-block;
                    }
                }

                &.error .wpsstm-play-track{
                    .wpsstm-player-icon{
                        display:none;
                    }
                    .wpsstm-player-icon-error{
                        display:inline-block;
                    }
                }

                &.wpsstm-invalid-track{
                    background:rgba(255, 0, 0, 0.10);
                }

            }

            td{
                &.column-image{
                    width: 50px;
                    padding:0;
                    img{
                        max-width: 100%;
                        @include opacity(0.2);
                        @include transition-property(opacity);
                        @include transition-duration(.4s);
                    }
                }
            }
       }

    }
    
    &[data-tracks-count="1"]{
        .tracklist-nav{
            display:none;
        }
        
    }
    
    &.loading{
        pointer-events: none;
        @include opacity(.5);
    }
    
    .wpsstm-tracklist-time{

        .wpsstm-refresh-playlist{
            i.fa-exclamation-triangle{ //error
                display:none;
            }
        }
    }

    &:not([data-wpsstm-expire-sec="0"]), &.loading{
        .wpsstm-tracklist-time .wpsstm-refresh-playlist{
            display:none;
        }
    }
    
    &[data-wpsstm-expire-sec="0"]{
        .wpsstm-tracklist-refresh-time{
            display:none;
        }
    }
    
    &.error{
        .wpsstm-tracklist-time{
            .wpsstm-refresh-playlist{
                i.fa-exclamation-triangle{ //error
                    display:inline-block;
                }
            }
        }
    }
    
}


